# Core Dump

## Description

* Core dump is a file that is generated by the linux kernel after a program crashes.
* This file contains the memory, register values and call stack of an application at the point of crashing.
* In C, this file is generated by a segementation fault error(SIGSEGV) or a BUS error(SIGBUS).
  1. SIGSEGV is caused when the program is accessing the memory which does not belong to user the program is running as.
  2. SIGBUS is caused when program is accessing the memory that has not been physically mapped ,i.e the memory does not exist. 

* In linux, value in */proc/sys/fs/suid_dumpable* file  determines whether core dumping is allowed(1) or not(0). However, in some systems '2' can also be the value, which states that core dump 
  generation is allowed but it can only be read by **root**.

* Limits of core dump can be determined by command `ulimit -c ` whci can give values from 0 to unlimited 



## Exploit

* By default core dump for **C programs** depends on whatever there is in */proc/sys/fs/suid_dumpable*. However commands like *prctl(PR_SET_DUMPABLE, 1);* in the code can 
  turn on core dumping even if it is turned off.
* Core dumps or any system crash dumps are stored in */var/crash*.
* These files are in unreadable format. However, they van be converted to readable form using **apport-unpack**